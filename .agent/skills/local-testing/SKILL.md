---
name: local-testing
description: スクリプトの実行やクローラーの稼働、ローカルテストの実行を安全かつ適切に行うためのスキルです。PythonコマンドのDockerコンテナ内実行や、Gitコミット前の必須テスト、デバッグ作業時のトラブルシューティングプロセス（Tempフォルダの利用を含む）などを強制したい場合に使用します。
---

# Local Testing and Docker Execution

ローカル環境での開発、テスト、およびGitによるバージョン管理における必須のルールと手続です。作業中に以下の手順が守られているかを常に確認してください。

## 手順

1. **Docker コンテナ内での実行**
   - Python を動かすコード（スクリプト実行・クローラー実行など）を実施する場合は、必ず Docker を起動し、そのコンテナ内で実行すること。
   - 例: `docker-compose exec -T app python ...`

2. **ローカルテストと GitHub プッシュ制約**
   - コードを修正したら **必ずローカルでテストを実行し、全て成功** することを確認する。
   - テストや実行結果が全て成功するまで、絶対に GitHub にプッシュしないこと。

3. **フィーチャーブランチのマージ後処理**
   - Git での変更が GitHub にマージされたら、その作業用（フィーチャー）ブランチはもう利用しないこと。
   - すぐにローカルブランチを `master` （またはメインブランチ）に変更し、マージされた最新の変更をプルして取り込むこと。

4. **トラブルシューティングとログ収集**
   - 問題解決時には「仮説構築 → 裏付けの確認 → 原因対処」を徹底すること。
   - 問題特定に必要な情報がログに出力されていない場合、ログに出力する情報を拡充すること。
   - デバッグや検証用に「一時的に使用する作業用のコード（スクリプト等）」を作成する場合は、必ず `Temp` フォルダに出力すること。

5. **DB 操作の安全性**
   - データベースのテーブル削除や全データの削除といったクリティカルな操作を伴う場合は、必ず事前に確認を実施すること。
