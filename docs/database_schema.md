# データベース保存項目 (Database Schema)

本プロジェクトで収集・保存されるデータベースのテーブル定義およびカラム一覧です。

**サイト凡例:**
*   **M**: 三井のリハウス (`mitsui`)
*   **S**: 住友不動産販売 (`sumifu`)
*   **T**: 東急リバブル (`tokyu`)
*   **N**: 野村の仲介＋ (`nomura`)
*   **Mi**: ミサワホーム不動産 (`misawa`)
*   **○**: 取得・保存対象
*   **-**: 対象外（またはサイトが取り扱っていない）

---

## 1. 共通基本情報 (Common Basic Info)
全ての物件種別（マンション、土地、戸建て、投資用）で共通して保持する基本情報です。

| 論理名 | 物理名 | M | S | T | N | Mi | 説明 |
| :--- | :--- | :-: | :-: | :-: | :-: | :-: | :--- |
| 物件名 | `propertyName` | ○ | ○ | ○ | ○ | ○ | サイト上の物件タイトル |
| URL | `pageUrl` | ○ | ○ | ○ | ○ | ○ | 物件詳細ページのURL |
| 登録日 | `inputDate` | ○ | ○ | ○ | ○ | ○ | クローリング実行日 |
| 価格 | `price` | ○ | ○ | ○ | ○ | ○ | 数値型 (円単位) |
| 住所 | `address` | ○ | ○ | ○ | ○ | ○ | 住所文字列 |
| 交通 | `railway1`~`5` | ○ | ○ | ○ | ○ | ○ | 沿線・駅・徒歩分数 |

---

## 2. 物件種別ごとの主要項目 (Specs by Type)

### マンション (Mansion) / 戸建て (Kodate) / 土地 (Tochi)
各サイト、全種別に対応しています。

| 論理名 | 物理名 | M | S | T | N | Mi | 説明 |
| :--- | :--- | :-: | :-: | :-: | :-: | :-: | :--- |
| 専有/建物面積 | `senyuMenseki` | ○ | ○ | ○ | ○ | ○ | m2 (マンション/戸建) |
| 土地面積 | `tochiMenseki` | ○ | ○ | ○ | ○ | ○ | m2 (戸建/土地) |
| 間取り | `madori` | ○ | ○ | ○ | ○ | ○ | |
| 築年月 | `chikunengetsu`| ○ | ○ | ○ | ○ | ○ | (マンション/戸建) |
| 構造 | `kouzou` | ○ | ○ | ○ | ○ | ○ | RC, 木造等 |
| 接道 | `setsudou` | ○ | ○ | ○ | ○ | ○ | (戸建/土地) |

### 投資用物件 (Investment)
全サイト（三井、住友、東急、野村、ミサワ）で投資用マンション、アパート、一棟ビルの取得に対応しています。

| 論理名 | 物理名 | M | S | T | N | Mi | 説明 |
| :--- | :--- | :-: | :-: | :-: | :-: | :-: | :--- |
| 表面利回り | `grossYield` | ○ | ○ | ○ | ○ | ○ | % (数値) |
| 年間予定収入 | `annualIncome` | ○ | ○ | ○ | ○ | ○ | 円 (数値) |
| 建物面積 | `tatemonoMenseki`| ○ | ○ | ○ | ○ | ○ | |
| 土地面積 | `tochiMenseki` | ○ | ○ | ○ | ○ | ○ | 一棟もの等の場合 |

---

## 3. 法的制限・詳細情報
| 論理名 | 物理名 | M | S | T | N | Mi |
| :--- | :--- | :-: | :-: | :-: | :-: | :-: |
| 建ぺい率 | `kenpei` | ○ | ○ | ○ | ○ | ○ |
| 容績率 | `youseki` | ○ | ○ | ○ | ○ | ○ |
| 用途地域 | `youtoChiiki` | ○ | ○ | ○ | ○ | ○ |
| 地目 | `chimoku` | ○ | ○ | ○ | ○ | ○ |
| 土地権利 | `tochikenri` | ○ | ○ | ○ | ○ | ○ |

> [!TIP]
> 各パーサーはサイト固有のHTML構造（Table, Definition List等）を吸収し、上記 Django モデルのフィールドへマッピングします。マッピングに失敗した場合は `ReadPropertyNameException` などのカスタム例外がスローされ、ログに記録されます。
